*{box-sizing:border-box;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
body{margin:0;color:#222}
/* Focus styles for accessibility */
button:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible {
  outline:2px solid #2b7cff;
  outline-offset:2px;
}
header{display:flex;align-items:center;justify-content:space-between;padding:12px 18px;background:#f5f7fb;border-bottom:1px solid #e1e6f0}
header h1{margin:0;font-size:18px}
.controls{display:flex;gap:8px;align-items:center}
input[type=text], input[type=number], select, textarea{padding:6px;border:1px solid #ccc;border-radius:4px}
button{padding:8px 10px;border:0;background:#2b7cff;color:white;border-radius:6px;cursor:pointer}
button.secondary{background:#e0e6ef;color:#222}
main{padding:18px}
.venues{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
.card{background:white;border-radius:8px;padding:12px;border:1px solid #e6ecf8;display:flex;flex-direction:column}
.card img{width:100%;height:140px;object-fit:cover;border-radius:6px}
.card h3{margin:8px 0 0 0}
.card .meta{font-size:12px;color:#666}
.costs{margin-top:8px;font-size:13px}
.cost-row{display:flex;justify-content:space-between;padding:4px 0;border-left:4px solid transparent;padding-left:8px}
.highlight-low{background:rgba(16,185,129,0.09);border-left-color:#10b981}
.highlight-high{background:rgba(239,68,68,0.06);border-left-color:#ef4444}
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.4);z-index:30;padding:20px}
.modal.hidden{display:none !important}
/* Modal content sized to viewport to avoid horizontal scrolling */
.modal-content{background:white;padding:16px;border-radius:8px;box-sizing:border-box;max-width:calc(100vw - 48px);width:100%;max-height:calc(100vh - 48px);overflow-y:auto;overflow-x:hidden}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
.grid label{display:flex;flex-direction:column;font-size:13px}
.form-actions{display:flex;align-items:center;gap:10px;margin-top:10px}
.spacer{flex:1}
.gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px}
.thumbnail{width:100%;height:100px;object-fit:cover;border-radius:6px}
.venue-actions{display:flex;gap:8px;margin-top:8px}
.btn-danger{background:#ef4444}
.rating{color:#f59e0b}

/* Compare mode - always active */
.card{
  cursor:pointer;
  transition:all 0.2s ease;
  position:relative;
}
.card:hover{
  transform:translateY(-2px);
  box-shadow:0 4px 12px rgba(15,23,42,0.12);
}
.card.compare-selected{
  outline:3px solid #2b7cff;
  outline-offset:2px;
  box-shadow:0 6px 20px rgba(43,124,255,0.3);
}
.card.compare-selected::after{
  content:'\2713';
  position:absolute;
  top:8px;
  right:8px;
  background:#2b7cff;
  color:white;
  width:28px;
  height:28px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  font-size:16px;
  z-index:10;
}

/* Animations */
@keyframes pulse-update {
  0% { background: rgba(43, 124, 255, 0.15); }
  100% { background: transparent; }
}
@keyframes pulse-success {
  0% { background: rgba(16, 185, 129, 0.15); border-color: #10b981; }
  100% { background: transparent; border-color: #e6ecf8; }
}
@keyframes glow {
  0%, 100% { box-shadow: 0 0 0 rgba(43, 124, 255, 0); }
  50% { box-shadow: 0 0 12px rgba(43, 124, 255, 0.4); }
}
.cost-updated {
  animation: pulse-update 0.6s ease-out;
}
.form-complete .cost-card {
  animation: pulse-success 1.2s ease-out;
}
.summary-panel.updated {
  animation: glow 0.8s ease-out;
}

/* Add venue modal improvements */
.form-layout{display:flex;gap:20px;align-items:flex-start;flex-wrap:wrap}
.form-layout .left{flex:1 1 320px;padding:12px;display:flex;flex-direction:column;gap:12px}
.form-layout .right{flex:1 1 420px;padding:12px;min-width:280px;max-width:640px}
.form-layout .left{flex:1 1 320px;padding:12px;display:flex;flex-direction:column;gap:12px;min-width:0}
.form-layout .right{flex:1 1 420px;padding:12px;min-width:0}
.full{width:100%;display:block}
.row{display:flex;gap:12px}
.slider-wrap{display:flex;align-items:center;gap:8px}
.slider-wrap input[type=range]{flex:1}
.slider-wrap span{min-width:48px;text-align:center;background:#eef2ff;padding:6px;border-radius:8px;font-weight:600}
.slider-btn{background:#e0e6ef;color:#222;border:none;width:32px;height:32px;border-radius:6px;cursor:pointer;font-size:18px;font-weight:bold;display:flex;align-items:center;justify-content:center;transition:all 0.2s ease}
.slider-btn:hover{background:#d1d9ee;transform:scale(1.05)}
.slider-btn:active{transform:scale(0.95)}
.cost-cards{display:grid;grid-template-columns:repeat(1,1fr);gap:10px}
.cost-card{border:1px solid #e6ecf8;border-radius:8px;padding:10px;background:#fff}
.card-header{font-weight:700;margin-bottom:8px}
.card-body{display:flex;flex-direction:column;align-items:stretch;gap:6px}
.input-label{font-size:12px;color:#6b7280;font-weight:600}
.cost-input{flex:1;padding:8px;border:1px solid #d1d9ee;border-radius:8px}
.muted{font-size:12px;color:#6b7280}
.help-tip{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:18px;
  height:18px;
  margin-left:6px;
  border-radius:50%;
  background:#eef2ff;
  color:#2b7cff;
  font-size:12px;
  font-weight:700;
  cursor:help;
  position:relative;
}
.help-tip::after{
  content:attr(data-tip);
  position:absolute;
  bottom:120%;
  left:50%;
  transform:translateX(-50%);
  background:#111827;
  color:white;
  padding:8px 10px;
  border-radius:6px;
  font-size:12px;
  line-height:1.3;
  white-space:nowrap;
  opacity:0;
  pointer-events:none;
  transition:opacity 0.15s ease;
  z-index:20;
}
.help-tip::before{
  content:'';
  position:absolute;
  bottom:110%;
  left:50%;
  transform:translateX(-50%);
  border:6px solid transparent;
  border-top-color:#111827;
  opacity:0;
  transition:opacity 0.15s ease;
  z-index:20;
}
.help-tip:hover::after,
.help-tip:hover::before{
  opacity:1;
}
.summary-panel{border:1px solid #e6ecf8;border-radius:8px;padding:12px;margin-top:12px;background:#f8faff;transition:all 0.3s ease}
.summary-panel .total{font-size:24px;font-weight:700;color:#2b7cff;transition:color 0.3s ease}
.summary-panel.updated .total{color:#10b981}
.bar-toggle{display:flex;gap:6px;margin-bottom:8px}
.bar-toggle button{padding:8px 10px;border-radius:8px;border:1px solid #d1d9ee;background:#f8fafc;cursor:pointer}
.bar-toggle button.active{background:#2b7cff;color:#fff;border-color:#2b7cff}
.photo-preview{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.photo-preview img{width:70px;height:70px;object-fit:cover;border-radius:8px}

/* highlight selected title photo */
.photo-preview img.title-photo{outline:3px solid #2b7cff;border-radius:6px}

/* lightbox for viewing large photos */
#lightbox{position:fixed;inset:0;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;z-index:9999}
#lightbox img{max-width:95%;max-height:95%;box-shadow:0 8px 30px rgba(0,0,0,0.6);border-radius:8px}

/* lightbox arrows */
.lightbox-arrow{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.4);color:white;border:0;padding:12px 14px;border-radius:8px;cursor:pointer;font-size:18px}
.lightbox-arrow.left{left:18px}
.lightbox-arrow.right{right:18px}
.lightbox-arrow:focus{outline:2px solid #fff}

/* title photo preview area */
.title-photo-preview{min-height:70px;display:flex;align-items:center;gap:8px}
.title-photo-preview img.title-thumb{width:96px;height:64px;object-fit:cover;border-radius:6px}

/* Sticky summary panel in modal */
.modal-content{position:relative;padding:14px;max-width:1100px}
.summary-panel{position:sticky;top:18px;background:#ffffff;border:1px solid #e6ecf8;padding:12px;border-radius:10px;box-shadow:0 8px 24px rgba(15,23,42,0.06);align-self:flex-start}
.summary-panel .total{font-size:18px;font-weight:800}

/* Prevent elements from forcing horizontal overflow on small widths */
.form-actions{flex-wrap:wrap}
.form-actions > div, .form-actions > button{min-width:0}
.row{display:flex;gap:12px;flex-wrap:wrap}
.slider-wrap span{min-width:40px}
.card-body .cost-input{min-width:0}
.summary-panel{max-width:360px;width:100%}
.bar-toggle button{min-width:72px}

@media (max-width:600px){
	.modal{padding:12px}
	.modal-content{padding:10px}
	.bar-toggle button{min-width:56px;padding:6px 8px}
	.slider-wrap span{min-width:36px}
	.form-layout .left, .form-layout .right{padding:8px}
	.form-actions{gap:8px}
	.form-actions > div, .form-actions > button{width:100%}
}

.photos-placeholder{display:flex;flex-direction:column;gap:8px}
.photos-placeholder button{align-self:flex-start}

/* Name field emphasis */
.left .full input{font-size:18px;font-weight:700;padding:10px;border:2px solid #dbeafe;border-radius:8px}
.left label.full{display:flex;flex-direction:column;gap:8px}
.left .full input{font-size:18px;font-weight:700;padding:10px;border:2px solid #dbeafe;border-radius:8px;margin-top:4px}
.bar-toggle{display:flex;gap:6px;margin-bottom:8px;align-items:center}
.bar-toggle button{padding:8px 10px;border-radius:8px;border:1px solid #d1d9ee;background:#ffffff;color:#111;font-weight:600;cursor:pointer;min-width:92px;box-sizing:border-box}
.bar-toggle button.active{background:#2b7cff;color:#fff;border-color:#2b7cff}

/* Ensure modal content small screens */
@media (max-width:800px){
	.modal-content{width:96%;padding:12px}
	.form-layout{flex-direction:column}
	.summary-panel{position:static;box-shadow:none}
}

@media (max-width:980px){
  .form-layout{flex-direction:column}
  .summary-panel{position:static;box-shadow:none}
  .form-layout .right{max-width:100%}
}

/* Photo Drop Zone */
.drop-zone{
  padding:20px;
  border:2px dashed #d1d9ee;
  border-radius:8px;
  background:#fbfdff;
  color:#6b7280;
  cursor:pointer;
  text-align:center;
  transition:all 0.3s ease;
  font-size:14px;
}
.drop-zone:hover{
  background:#f0f4ff;
  border-color:#93b4ff;
}
.drop-zone.dragover{
  background:#eef2ff;
  border-color:#2b7cff;
  border-style:solid;
  transform:scale(1.02);
}
.photo-actions{
  display:flex;
  gap:10px;
  margin-bottom:10px;
  flex-wrap:wrap;
}
.photo-preview{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  margin-top:10px;
}

.thumb{position:relative;width:70px;height:70px;overflow:hidden;border-radius:8px;box-shadow:0 2px 6px rgba(15,23,42,0.06);display:inline-block;transition:transform 0.2s ease, box-shadow 0.2s ease}
.thumb:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(15,23,42,0.12)}
.thumb img{width:100%;height:100%;object-fit:cover;display:block}
.remove-photo{position:absolute;top:6px;right:6px;background:rgba(0,0,0,0.6);color:white;border-radius:50%;width:22px;height:22px;border:0;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:2;font-size:14px;line-height:1;transition:all 0.2s ease}
.remove-photo:hover{transform:scale(1.1);background:rgba(239,68,68,0.9)}
.thumb.is-title{box-shadow:0 0 0 3px rgba(59,130,246,0.5), 0 6px 18px rgba(2,6,23,0.08)}
.thumb.is-title::after{content:'â˜…';position:absolute;bottom:4px;right:4px;background:rgba(59,130,246,0.95);color:white;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px}
/* Visual for pending deletion */
.thumb.pending-delete{opacity:0.48;filter:grayscale(60%)}
.remove-photo.undo{background:rgba(34,197,94,0.95)}

/* Comparison view */
.compare-content{
  max-width:1400px !important;
  width:calc(100vw - 48px) !important;
}
.comparison-table{
  overflow-x:auto;
  margin-top:12px;
  max-width:100%;
}
.comparison-grid{
  display:grid;
  gap:1px;
  background:#e1e6f0;
  border:1px solid #e1e6f0;
  border-radius:8px;
  overflow:hidden;
  width:fit-content;
  max-width:100%;
}
.comparison-cell{
  background:white;
  padding:12px;
  min-height:48px;
  width:300px;
  max-width:300px;
  display:flex;
  align-items:center;
  word-break:break-word;
  overflow-wrap:break-word;
  overflow:hidden;
}
.comparison-cell.header{
  background:#f5f7fb;
  font-weight:700;
  font-size:14px;
  position:sticky;
  left:0;
  z-index:2;
  width:180px;
  max-width:180px;
}
.comparison-cell.venue-header{
  background:#2b7cff;
  color:white;
  flex-direction:column;
  align-items:flex-start;
  gap:6px;
  padding:16px 12px;
  word-break:break-word;
  overflow-wrap:break-word;
  min-width:0;
  width:300px;
  max-width:300px;
  overflow:hidden;
}
.comparison-cell.venue-header h3{
  margin:0;
  font-size:16px;
  width:100%;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.comparison-cell.venue-header .meta{
  color:rgba(255,255,255,0.9);
  font-size:12px;
  width:100%;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.comparison-cell.best{
  background:#ecfdf5;
  border-left:3px solid #10b981;
}
.comparison-cell.worst{
  background:#fef2f2;
  border-left:3px solid #ef4444;
}
.comparison-cell img{
  width:100%;
  max-width:280px;
  height:120px;
  object-fit:cover;
  border-radius:6px;
  flex-shrink:0;
}

@media (max-width:800px){
  .comparison-grid{
    grid-template-columns:140px repeat(auto-fit, minmax(200px, 1fr));
  }
  .comparison-cell{
    font-size:13px;
    padding:8px;
  }
}


