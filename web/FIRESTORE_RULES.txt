// Firebase Firestore Security Rules
// Apply these rules in Firebase Console → Firestore → Rules tab

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // User collection - each user can only access their own data
    match /users/{userId} {
      allow read, write: if request.auth.uid == userId;
      
      // User's venues subcollection
      match /venues/{venueId} {
        allow read, write: if request.auth.uid == userId;
        
        // Venue's photos subcollection
        match /photos/{photoId} {
          allow read, write: if request.auth.uid == userId;
        }
      }
    }
  }
}
